{messages.map((m,i) => {
  // If the text contains a <table> tag, render as HTML
  const isHTML = /<\s*table[\s>]/.test(m.text)

  return (
    <div key={i} className={`bubble ${m.from}`}>
      {isHTML
        ? <div 
            className="html-response" 
            dangerouslySetInnerHTML={{ __html: m.text }} 
          />
        : m.text
      }
      {m.from==='bot' && !m.loading && (
        <button className="read-btn" onClick={()=>playAudio(m.text)}>ðŸ”Š</button>
      )}
    </div>
  )
})}

#######
.html-response table {
  width: 100%;
  border-collapse: collapse;
  margin: 8px 0;
}
.html-response th,
.html-response td {
  border: 1px solid #ccc;
  padding: 6px;
  text-align: left;
}
