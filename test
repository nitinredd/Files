def table_extraction(filename, chemical, section):
    llmsherpa_api_url = "https://readers.llmsherpa.com/api/document/developer/parseDocument?renderFormat=all"
    pdf_reader = LayoutPDFReader(llmsherpa_api_url)
    doc = pdf_reader.read_pdf(filename)
    responses = []
    for i in range(len(doc.tables())):
        context = doc.tables()[i].to_html()
        question = '''Extract information related to {section} and {chemical} as-is,if no relevant info is present return "No content found" else return response only in html tabular format without any additional descriptions'''.format(section=section,chemical = chemical )
        system_msg = "read this table and answer question: {question}:\n{context}".format(question = question,context = context)
        response = openai.ChatCompletion.create(
            engine="GPT4o",
            model = "GPT4o",
            messages=[{"role": "system", "content": system_msg},
                      {"role": "user", "content": question},
                     ])
        result = response['choices'][0]["message"]["content"]
        if "No content found" not in result:
            responses.append(result)
    return responses
