// Example handler inside a React component
import { uploadFile } from "./api";

const handleUploadFile = async (file, reactionType = "Miscellaneous") => {
  if (!file) {
    alert("Select a file first");
    return;
  }
  try {
    // show spinner/UI state here
    const resp = await uploadFile(file, reactionType);
    console.log("Upload success:", resp);
    // Optionally: notify user and refresh product list
    // e.g. props.onUploaded(resp) or call fetchProducts("User_Uploads")
    alert("Upload succeeded");
  } catch (err) {
    console.error("Upload failed:", err);
    // If axios error, try to show status/message
    if (err.response) {
      alert(`Upload failed: ${err.response.status} ${err.response.statusText}\n${JSON.stringify(err.response.data)}`);
    } else {
      alert(`Upload failed: ${err.message}`);
    }
  } finally {
    // hide spinner
  }
};
