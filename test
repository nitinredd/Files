// Replace existing generate() with this (send JSON instead of FormData)
async function generate() {
  try {
    const payload = {
      n_experiments: Number(nexp),
      random_seed: Number(seed)
    };
    // send JSON body (FastAPI's Pydantic model expects JSON)
    const res = await axios.post("/generate_lhs", payload, {
      headers: { "Content-Type": "application/json" }
    });
    if (res.data && res.data.table) {
      setLhs(res.data.table);
      setOpt(null);
    } else {
      alert("Unexpected response: " + JSON.stringify(res.data));
    }
  } catch (err) {
    // show server error body for debugging
    const msg = err.response?.data || err.message || String(err);
    alert("Generate error: " + JSON.stringify(msg));
    console.error(err);
  }
}
