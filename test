def translate_text(text, source_lang):
    try:
        prompt = f"Translate the following {source_lang} text to English:\n\n{text}"
        
        response = openai.Completion.create(
            engine="your-deployment-name",  # This is the name of your deployed model
            prompt=prompt,
            temperature=0.3,
            max_tokens=1024
        )
        
        translated_text = response.choices[0].text.strip()
        return translated_text
    except Exception as e:
        # Catch and display API errors
        return f"Error: {e}"

# Streamlit app layout
st.title("Simple Text Translation App")

# Input for text and language selection
text_to_translate = st.text_area("Enter text to translate", height=100)
source_lang = st.selectbox("Select source language", ["Chinese", "Japanese"])

if st.button("Translate"):
    if text_to_translate:
        # Call the translation function
        translation = translate_text(text_to_translate, source_lang)
        st.subheader("Translated Text")
        st.write(translation)
    else:
        st.error("Please enter text to translate.")
