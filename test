// src/api.js (replace existing fetchPrompts)
export const fetchPrompts = async () => {
  const res = await api.get('/prompt-gallery');
  const data = res.data || {};

  // Backend may return { prompts: [...] } or an array directly.
  const raw = Array.isArray(data) ? data : (data.prompts || []);

  // Normalize into { id, title, text } for PromptGallery
  return (raw || []).map((p, idx) => {
    // possible backend keys: title/prompt or title/text
    const title = p.title || p.name || p.label || `Prompt ${idx + 1}`;
    const text = p.prompt || p.text || p.query || p.prompt_text || "";
    return {
      id: p.id || `prompt-${idx}`,
      title,
      text
    };
  });
};
